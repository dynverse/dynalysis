---
title: "1b-methods-toys-plots"
output: html_document
---

## Arrange all method plots in a grid

```{r loading}
library(tidyverse)
library(dyneval)
```


```{r}
plot_method <- function(model, method_name) {
  print(method_name)
  plot_fun <- method_ti_methods[[method_name]]$plot_fun
  
  pdf(paste0("figures/toy_method_plots/", method_name, ".pdf"), width=5, height=5)
  
  plot <- plot_fun(model)
  if("gg" %in% class(plot)) {
    print(plot)
  }
  
  dev.off()
}

scores <- readRDS("results/toy_method_scores.rds") %>% filter(method_name != "random_linear")

method_ti_methods <- map(scores$method_id, ~get(paste0("ti_", .))()) %>% set_names(scores$method_id)
plots <- map2(scores$model, scores$method_id, plot_method)
```

```{r}
system("montage -geometry 600x600+0+0 figures/toy_method_plots/*.pdf figures/toy_method_plots/grid.png")
```

